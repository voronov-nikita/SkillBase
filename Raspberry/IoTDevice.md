# IoT устройств

## Содержание

1. [Введение](./IoTDevice.md#введение)
2. [Используемые материалы](./IoTDevice.md#используемые-материалы)
3. [Теоретическое введение](./IoTDevice.md#теоретическое-введение)
4. [Примеры работ (практическая часть)](./IoTDevice.md#примеры-работ)
5. [Полезные ссылки](./IoTDevice.md#полезные-ссылки)

<br>

## Введение

Интернет вещей (IoT, Internet of Things) — концепция сети передачи данных между физическими объектами («вещами»), оснащёнными встроенными средствами и технологиями для взаимодействия друг с другом или с внешней средой.

Основная идея IoT заключается в создании масштабной сети, в которой миллионы устройств могут взаимодействовать между собой, собирать данные, анализировать их и предоставлять информацию для принятия решений или автоматического управления. 

В нашем случае термин "IoT устройств" означает как раз подключение к глобальное или локальной сети некоторого числа устройств ,способных внедриться в сложную сеть таких же устройств.
Разумеется, что чаще речь будет идти о подключении устройств в локальную сеть, т.к это проще, быстрее, безопаснее и, конечно же, дешевле.

Микрокомпьютер Raspberry Pi является отличным вариантом для создания IoT устройств. Он имеет все необходимые для этого компоненты. Наличие Bluetooth и WiFi модулей позволяет сделать из платы мощный контроллер различных устройств.

> [!NOTE]
> Лично я, подключив Raspberry Pi к старенькому принтеру, сделал его "умным принтером",
> который теперь имеет доступ к интернету и "память печати".
> 
> Нет нужды больше вспоминать, где лежит провод от принтера.
> Берешь и печатаешь, хоть с телефона, удобно.

## Используемые материалы

Как уже подразумевалось ранее, проект рассчитан преимущественно на работу с Raspberry Pi. В этом случае не требуется никаких критических вычислительных или графико-обрабатывающих ресурсов микрокомпьютера, поэтому подойдет даже самая первая версия платы.

Однако стоит помнить, что при расширении возможностей и функционала подключение более новой, а соответственно и более мощной версии платы может быть нелишним.

## Теоретическое введение

Использование Raspberry Pi для управления устройствами удаленно и подключения их к системе IoT (Интернет вещей) включает несколько этапов. Вот пошаговая инструкция:

---

#### **1. Подготовка Raspberry Pi**
1. **Установите операционную систему:**
   - Загрузите и установите **Raspberry Pi OS** с помощью инструмента [Raspberry Pi Imager](https://www.raspberrypi.org/software/).
   - Подключите Raspberry Pi к монитору, клавиатуре и сети, чтобы завершить настройку.

2. **Настройте удаленный доступ:**
   - **SSH:** Включите SSH через Raspberry Pi Configuration (или добавьте файл `ssh` в корень SD-карты).
   - **VNC:** Для графического удаленного доступа можно включить VNC Server.

3. **Подключите Raspberry Pi к сети:**
   - Через Wi-Fi или Ethernet. Для статического IP-адреса настройте файл `/etc/dhcpcd.conf`.


#### **2. Подключение к IoT-платформе**
Выберите платформу для управления IoT-устройствами:
- **MQTT (например, Mosquitto):** Популярный протокол для обмена сообщениями в IoT.
- **Облачные сервисы IoT:** AWS IoT, Google Cloud IoT Core, Microsoft Azure IoT Hub.
- **Локальные платформы:** Node-RED, Home Assistant.

**Пример с использованием MQTT:**
1. Установите Mosquitto:
   ```bash
   sudo apt update
   sudo apt install mosquitto mosquitto-clients
   ```
2. Настройте Mosquitto для удаленного доступа, если Raspberry Pi будет выступать как MQTT-брокер.

3. Используйте клиент MQTT для отправки/получения сообщений с устройств.


#### **3. Управление устройствами через GPIO**
Raspberry Pi имеет GPIO (General Purpose Input/Output) для взаимодействия с внешними устройствами:
- **Подключение датчиков/реле:**
  - Датчики температуры (например, DHT11, DHT22).
  - Управление реле для включения/выключения приборов.

- **Программирование управления:**
  Используйте Python с библиотекой `RPi.GPIO` или `gpiozero`.
  ```python
  import RPi.GPIO as GPIO
  import time

  GPIO.setmode(GPIO.BCM)
  GPIO.setup(18, GPIO.OUT)

  GPIO.output(18, GPIO.HIGH)  # Включить
  time.sleep(1)
  GPIO.output(18, GPIO.LOW)   # Выключить
  GPIO.cleanup()
  ```


#### **4. Интеграция с системой IoT**
- **Node-RED:**
  - Установите Node-RED:
    ```bash
    bash <(curl -sL https://raw.githubusercontent.com/node-red/linux-installers/master/deb/update-nodejs-and-nodered)
    ```
  - Настройте визуальные потоки для управления устройствами.

- **Home Assistant:**
  - Установите Home Assistant и интегрируйте устройства для автоматизации.

- **Облачные сервисы:**
  - Настройте API или библиотеки SDK (например, AWS IoT Device SDK для Python).

#### **5. Удаленный доступ**
- **Dynamic DNS (DDNS):** Настройте DDNS (например, через No-IP) для доступа извне.
- **VPN:** Установите VPN-сервер (например, OpenVPN) для безопасного доступа.
- **Web-интерфейс:** Разработайте интерфейс с использованием Flask/Django.


## Примеры работ

На момент написания нет четких инструкций и репозиториев с проектами в данной тематике.

## Полезные ссылки

1. [Что такое IoT и что о нем следует знать - habr.ru](https://habr.com/ru/companies/otus/articles/549550/)
2. [Интернет вещей - ru.wikipedia.org](https://ru.wikipedia.org/wiki/Интернет_вещей)
3. [Что такое интернет вещей и как он устроен - trends.rbc.ru](https://trends.rbc.ru/trends/industry/5db96f769a7947561444f118)
4. [Интернет вещей (IoT) - как он устроен, какие задачи решает? Опасен ли интернет вещей? - rutube.ru](https://rutube.ru/video/64a93b94f69136df5208a118d09eb51f/?r=plemwd)


<br><br>
<br><br>

###### 30.11.2024
